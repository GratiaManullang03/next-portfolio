<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>GOD MODE :: FINAL</title>
        <style>
            /* --- 0. RESET & VARIABLES --- */
            :root {
                --bg-deep: #050505;
                --win-bg: rgba(10, 10, 12, 0.95);
                --glass-border: rgba(255, 255, 255, 0.08);
                --accent-pri: #3b82f6;
                --accent-sec: #8b5cf6;
                --text-main: #e4e4e7;
                --text-dim: #71717a;
                --font-ui: 'Inter', system-ui, -apple-system, sans-serif;
                --font-mono: 'JetBrains Mono', 'Fira Code', Consolas, monospace;
            }

            * {
                box-sizing: border-box;
                outline: none;
            }

            body {
                margin: 0;
                height: 100vh;
                background-color: var(--bg-deep);
                background-image: radial-gradient(
                        circle at 15% 50%,
                        rgba(59, 130, 246, 0.05),
                        transparent 25%
                    ),
                    radial-gradient(
                        circle at 85% 30%,
                        rgba(139, 92, 246, 0.05),
                        transparent 25%
                    );
                font-family: var(--font-ui);
                overflow: hidden;
                display: flex;
                justify-content: center;
                align-items: center;
            }

            /* --- 1. TRIGGER BUTTON --- */
            #initBtn {
                padding: 16px 40px;
                background: transparent;
                border: 1px solid rgba(255, 255, 255, 0.1);
                color: var(--text-main);
                font-family: var(--font-mono);
                letter-spacing: 2px;
                font-size: 14px;
                cursor: pointer;
                transition: 0.4s;
                z-index: 10;
            }

            #initBtn:hover {
                border-color: var(--accent-pri);
                box-shadow: 0 0 20px rgba(59, 130, 246, 0.2);
            }

            /* --- 2. WINDOW CONTAINER --- */
            #godWindow {
                display: none;
                position: absolute;
                width: 1000px;
                height: 650px;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);

                background: var(--win-bg);
                backdrop-filter: blur(20px);
                border: 1px solid var(--glass-border);
                border-radius: 8px;
                box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.5),
                    0 25px 50px -12px rgba(0, 0, 0, 0.7);

                flex-direction: column;
                overflow: hidden;
                resize: both;
                min-width: 400px;
                min-height: 300px;
                z-index: 100;

                opacity: 0;
                scale: 0.95;
                transition: opacity 0.4s ease,
                    scale 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
            }

            #godWindow.active {
                opacity: 1;
                scale: 1;
            }

            #godWindow.maximized {
                top: 0 !important;
                left: 0 !important;
                transform: none !important;
                width: 100vw !important;
                height: 100vh !important;
                border-radius: 0;
                border: none;
                resize: none;
            }

            /* --- 3. HEADER (SINGLE TAB) --- */
            .header-bar {
                height: 44px;
                background: rgba(0, 0, 0, 0.3);
                border-bottom: 1px solid var(--glass-border);
                display: flex;
                /* Flex-end penting biar TAB nempel bawah, tapi CONTROLS kita atur sendiri nanti */
                align-items: flex-end;
                padding: 0 10px;
                user-select: none;
            }

            .tab-container {
                flex-grow: 1;
                display: flex;
                height: 100%;
                padding-top: 8px;
            }

            .tab {
                width: 200px;
                height: 100%;
                background: var(--win-bg);
                color: var(--text-main);
                border-top-left-radius: 6px;
                border-top-right-radius: 6px;
                border: 1px solid var(--glass-border);
                border-bottom: none;
                display: flex;
                align-items: center;
                padding: 0 15px;
                font-size: 12px;
                font-weight: 500;
                position: relative;
                cursor: default;
            }

            .tab::before {
                content: '';
                position: absolute;
                top: -1px;
                left: 0;
                width: 100%;
                height: 2px;
                background: linear-gradient(
                    90deg,
                    var(--accent-pri),
                    var(--accent-sec)
                );
            }

            .tab-icon {
                margin-right: 10px;
                width: 14px;
                opacity: 1;
            }

            /* --- CONTROLS (FIXED CENTER) --- */
            .win-controls {
                display: flex;
                height: 100%; /* Full height header */
                align-items: center; /* PENTING: Ini bikin tombol presisi di tengah vertikal */
                padding-left: 10px;
                padding-bottom: 0; /* Hapus padding yang bikin tombol naik */
                gap: 8px;
            }

            .ctrl-btn {
                width: 32px;
                height: 32px;
                display: flex;
                align-items: center;
                justify-content: center;
                color: var(--text-dim);
                border-radius: 4px;
                cursor: pointer;
                transition: 0.2s;
            }
            .ctrl-btn:hover {
                background: rgba(255, 255, 255, 0.1);
                color: var(--text-main);
            }
            .ctrl-close:hover {
                background: #ef4444;
                color: white;
            }

            /* --- 4. NAVIGATION BAR (LOCKED) --- */
            .nav-bar {
                height: 50px;
                display: flex;
                align-items: center;
                padding: 0 16px;
                gap: 16px;
                background: rgba(255, 255, 255, 0.01);
                border-bottom: 1px solid var(--glass-border);
            }

            .nav-actions {
                display: flex;
                gap: 12px;
                color: var(--text-dim);
                opacity: 0.5;
                cursor: not-allowed;
            }

            .url-bar {
                flex-grow: 1;
                height: 32px;
                background: rgba(0, 0, 0, 0.4);
                border: 1px solid rgba(255, 255, 255, 0.04);
                border-radius: 4px;
                display: flex;
                align-items: center;
                padding: 0 12px;
                font-family: var(--font-mono);
                font-size: 13px;
                color: var(--text-dim);
                user-select: none;
                cursor: default;
            }

            .url-text {
                flex-grow: 1;
                background: transparent;
                border: none;
                color: #555;
                font-family: inherit;
                pointer-events: none;
            }

            /* --- 5. CONTENT AREA --- */
            .viewport {
                flex-grow: 1;
                display: flex;
                flex-direction: column;
                overflow: hidden;
                position: relative;
                background: rgba(0, 0, 0, 0.2);
            }

            .web-content {
                flex-grow: 1;
                padding: 40px;
                overflow-y: auto;
            }

            ::-webkit-scrollbar {
                width: 6px;
                height: 6px;
            }
            ::-webkit-scrollbar-track {
                background: transparent;
            }
            ::-webkit-scrollbar-thumb {
                background: #333;
                border-radius: 3px;
            }
            ::-webkit-scrollbar-thumb:hover {
                background: #555;
            }

            /* --- SKELETON STYLES --- */
            .sk-wrapper {
                max-width: 800px;
                margin: 0 auto;
            }

            .sk-item {
                background: rgba(255, 255, 255, 0.04);
                border-radius: 4px;
                margin-bottom: 16px;
                position: relative;
                overflow: hidden;
            }

            .sk-item::after {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: linear-gradient(
                    90deg,
                    transparent,
                    rgba(255, 255, 255, 0.03),
                    transparent
                );
                animation: shimmer 2s infinite cubic-bezier(0.4, 0, 0.2, 1);
            }

            @keyframes shimmer {
                0% {
                    transform: translateX(-100%);
                }
                100% {
                    transform: translateX(100%);
                }
            }

            .h-hero {
                height: 240px;
                width: 100%;
                border-radius: 6px;
                margin-bottom: 30px;
                border: 1px dashed rgba(255, 255, 255, 0.1);
            }
            .h-title {
                height: 32px;
                width: 50%;
                margin-bottom: 20px;
            }
            .h-line {
                height: 14px;
                width: 100%;
            }
            .h-line-short {
                height: 14px;
                width: 70%;
            }
            .h-card-row {
                display: flex;
                gap: 20px;
                margin-top: 40px;
            }
            .h-card {
                height: 150px;
                flex: 1;
                border-radius: 6px;
            }

            /* --- 6. STATUS BAR --- */
            .status-bar {
                height: 28px;
                background: rgba(0, 0, 0, 0.5);
                border-top: 1px solid rgba(255, 255, 255, 0.05);
                display: flex;
                align-items: center;
                justify-content: flex-end;
                padding: 0 15px;
                gap: 20px;
                font-family: var(--font-mono);
                font-size: 10px;
                color: var(--text-dim);
                user-select: none;
            }
        </style>
    </head>
    <body>
        <button id="initBtn">INITIALIZE SYSTEM</button>

        <div id="godWindow">
            <div class="header-bar" id="dragHeader">
                <div class="tab-container">
                    <div class="tab">
                        <span class="tab-icon">‚ö°</span> Dashboard
                    </div>
                </div>

                <div class="win-controls">
                    <div class="ctrl-btn" id="btnMax" title="Maximize">
                        <svg
                            class="icon-max"
                            width="12"
                            height="12"
                            viewBox="0 0 12 12"
                            fill="none"
                            stroke="currentColor">
                            <rect
                                x="1.5"
                                y="1.5"
                                width="9"
                                height="9"
                                stroke-width="1.5" />
                        </svg>
                    </div>
                    <div
                        class="ctrl-btn ctrl-close"
                        id="btnClose"
                        title="Terminate">
                        <svg
                            width="12"
                            height="12"
                            viewBox="0 0 12 12"
                            fill="none"
                            stroke="currentColor">
                            <path
                                d="M1.5 1.5L10.5 10.5M10.5 1.5L1.5 10.5"
                                stroke-width="1.5"
                                stroke-linecap="round" />
                        </svg>
                    </div>
                </div>
            </div>

            <div class="nav-bar">
                <div class="nav-actions">
                    <span>‚Üê</span><span>‚Üí</span><span>‚Üª</span>
                </div>
                <div class="url-bar">
                    <span style="opacity: 0.6; margin-right: 8px">üîí</span>
                    <input
                        type="text"
                        class="url-text"
                        value="https://internal.system/dashboard/view"
                        readonly />
                </div>
            </div>

            <div class="viewport">
                <div class="web-content">
                    <div class="sk-wrapper">
                        <div class="sk-item h-title"></div>
                        <div class="sk-item h-hero"></div>

                        <div style="margin-top: 20px"></div>
                        <div class="sk-item h-line"></div>
                        <div class="sk-item h-line"></div>
                        <div class="sk-item h-line-short"></div>

                        <div class="h-card-row">
                            <div class="sk-item h-card"></div>
                            <div class="sk-item h-card"></div>
                            <div class="sk-item h-card"></div>
                        </div>

                        <div style="margin-top: 40px"></div>
                        <div class="sk-item h-title" style="width: 30%"></div>
                        <div class="sk-item h-line"></div>
                        <div class="sk-item h-line"></div>

                        <div style="height: 500px"></div>
                    </div>
                </div>
            </div>

            <div class="status-bar">
                <div>READ-ONLY MODE</div>
                <div id="realTimeClock">00:00:00</div>
            </div>
        </div>

        <script>
            const btnInit = document.getElementById('initBtn');
            const win = document.getElementById('godWindow');
            const btnClose = document.getElementById('btnClose');
            const btnMax = document.getElementById('btnMax');
            const dragHeader = document.querySelector('.header-bar');
            const clockEl = document.getElementById('realTimeClock');

            let isMaximized = false;
            let savedState = {};

            // SVG ICONS STRING
            const iconSquare = `<svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="currentColor"><rect x="1.5" y="1.5" width="9" height="9" stroke-width="1.5"/></svg>`;
            const iconRestore = `<svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="currentColor"><rect x="1.5" y="3.5" width="7" height="7" stroke-width="1.5"/><path d="M3.5 1.5H10.5V8.5" stroke-width="1.5"/></svg>`;

            // 1. OPEN
            btnInit.addEventListener('click', () => {
                btnInit.style.display = 'none';
                win.style.display = 'flex';
                win.style.top = '50%';
                win.style.left = '50%';
                win.style.transform = 'translate(-50%, -50%)';
                setTimeout(() => {
                    win.classList.add('active');
                }, 100);
            });

            // 2. CLOSE
            btnClose.addEventListener('click', () => {
                win.classList.remove('active');
                setTimeout(() => {
                    win.style.display = 'none';
                    btnInit.style.display = 'block';
                }, 300);
            });

            // 3. MAXIMIZE LOGIC (WITH ICON SWAP)
            btnMax.addEventListener('click', () => {
                if (!isMaximized) {
                    // Save State
                    savedState = {
                        top: win.style.top,
                        left: win.style.left,
                        width: win.style.width,
                        height: win.style.height,
                        transform: win.style.transform,
                    };

                    // Maximize
                    win.classList.add('maximized');
                    btnMax.innerHTML = iconRestore; // GANTI ICON JADI TUMPUK
                    isMaximized = true;
                } else {
                    // Restore State
                    win.classList.remove('maximized');
                    win.style.top = savedState.top;
                    win.style.left = savedState.left;
                    win.style.width = savedState.width;
                    win.style.height = savedState.height;
                    win.style.transform = savedState.transform;

                    // Icon Back
                    btnMax.innerHTML = iconSquare; // BALIK JADI KOTAK
                    isMaximized = false;
                }
            });

            // 4. CLOCK
            setInterval(() => {
                const now = new Date();
                clockEl.innerText = now.toLocaleTimeString();
            }, 1000);

            // 5. DRAG LOGIC
            let isDragging = false;
            let dragOffset = { x: 0, y: 0 };

            dragHeader.addEventListener('mousedown', (e) => {
                if (isMaximized || e.target.closest('.ctrl-btn')) return;

                isDragging = true;
                dragHeader.style.cursor = 'grabbing';
                const rect = win.getBoundingClientRect();
                dragOffset.x = e.clientX - rect.left;
                dragOffset.y = e.clientY - rect.top;

                win.style.left = rect.left + 'px';
                win.style.top = rect.top + 'px';
                win.style.transform = 'none';
                win.style.margin = 0;
            });

            document.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                e.preventDefault();
                win.style.left = e.clientX - dragOffset.x + 'px';
                win.style.top = e.clientY - dragOffset.y + 'px';
            });

            document.addEventListener('mouseup', () => {
                isDragging = false;
                dragHeader.style.cursor = 'default';
            });
        </script>
    </body>
</html>
